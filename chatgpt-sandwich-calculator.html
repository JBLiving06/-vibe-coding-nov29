<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Sandwich Generation Squeeze Mapper</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    :root {
      --bg: #f3f4f6;
      --panel: #ffffff;
      --accent: #2563eb;
      --accent-soft: #dbeafe;
      --border: #e5e7eb;
      --text-main: #111827;
      --text-muted: #6b7280;
      --danger: #b91c1c;
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      padding: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: var(--bg);
      color: var(--text-main);
    }

    h1, h2, h3 { margin-top: 0; }

    .app-shell {
      max-width: 1200px;
      margin: 0 auto;
      padding: 1.5rem 1rem 3rem;
    }

    header { margin-bottom: 1.5rem; }
    header h1 { font-size: 1.8rem; margin-bottom: 0.25rem; }
    header p { margin: 0.25rem 0; color: var(--text-muted); }

    .pill {
      display: inline-block;
      padding: 0.15rem 0.5rem;
      border-radius: 999px;
      background: var(--accent-soft);
      color: var(--accent);
      font-size: 0.75rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.04em;
      margin-bottom: 0.5rem;
    }

    .grid {
      display: grid;
      grid-template-columns: 1.2fr 1.8fr;
      gap: 1rem;
    }

    @media (max-width: 900px) {
      .grid { grid-template-columns: 1fr; }
    }

    .panel {
      background: var(--panel);
      border-radius: 0.75rem;
      padding: 1rem 1.2rem 1.2rem;
      border: 1px solid var(--border);
      box-shadow: 0 8px 16px rgba(15, 23, 42, 0.03);
    }

    .panel-heading {
      display: flex;
      align-items: baseline;
      justify-content: space-between;
      margin-bottom: 0.75rem;
      gap: 0.5rem;
    }

    .panel-heading h2 { font-size: 1.1rem; margin: 0; }
    .panel-heading span { font-size: 0.8rem; color: var(--text-muted); }

    label {
      display: block;
      font-size: 0.85rem;
      font-weight: 500;
      margin-bottom: 0.2rem;
    }

    .hint {
      font-size: 0.78rem;
      color: var(--text-muted);
      margin-top: 0.15rem;
    }

    input[type="number"], input[type="text"], select {
      width: 100%;
      padding: 0.4rem 0.5rem;
      font-size: 0.9rem;
      border-radius: 0.375rem;
      border: 1px solid var(--border);
      background: #f9fafb;
    }

    input:focus, select:focus {
      outline: none;
      border-color: var(--accent);
      box-shadow: 0 0 0 1px var(--accent-soft);
      background: #ffffff;
    }

    .field-row {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 0.6rem;
      margin-bottom: 0.6rem;
    }

    .field-row-2 {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 0.6rem;
      margin-bottom: 0.6rem;
    }

    .field-row-4 {
      display: grid;
      grid-template-columns: repeat(4, minmax(0, 1fr));
      gap: 0.6rem;
      margin-bottom: 0.6rem;
    }

    .section-title {
      font-size: 0.9rem;
      font-weight: 600;
      margin: 0.25rem 0 0.5rem;
    }

    .subtle { font-size: 0.8rem; color: var(--text-muted); }

    .subpanel-title-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin: 0.2rem 0 0.4rem;
    }

    .subpanel-title-row h3 { font-size: 0.95rem; margin: 0; }

    .badge-count {
      font-size: 0.75rem;
      padding: 0.15rem 0.45rem;
      border-radius: 999px;
      background: #f3f4f6;
      color: var(--text-muted);
    }

    .entity-list {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      margin-bottom: 0.5rem;
    }

    .entity-card {
      border-radius: 0.5rem;
      border: 1px dashed var(--border);
      padding: 0.6rem;
      background: #f9fafb;
      position: relative;
    }

    .entity-header {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      margin-bottom: 0.35rem;
    }

    .entity-header span { font-size: 0.85rem; font-weight: 600; }
    .entity-tagline { font-size: 0.75rem; color: var(--text-muted); }

    .remove-btn {
      border: none;
      background: transparent;
      color: var(--text-muted);
      cursor: pointer;
      font-size: 0.8rem;
      padding: 0.15rem 0.35rem;
      border-radius: 999px;
    }

    .remove-btn:hover { background: #fee2e2; color: var(--danger); }

    .add-btn {
      display: inline-flex;
      align-items: center;
      gap: 0.25rem;
      border-radius: 999px;
      border: 1px dashed var(--accent);
      background: #eff6ff;
      color: var(--accent);
      padding: 0.25rem 0.6rem;
      font-size: 0.8rem;
      cursor: pointer;
      margin-bottom: 0.2rem;
    }

    .primary-btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 0.4rem;
      padding: 0.55rem 1.15rem;
      font-size: 0.9rem;
      border-radius: 999px;
      border: none;
      cursor: pointer;
      background: var(--accent);
      color: #ffffff;
      font-weight: 600;
      margin-top: 0.4rem;
    }

    .primary-btn:hover { filter: brightness(1.05); }

    .summary-metrics {
      display: grid;
      grid-template-columns: repeat(4, minmax(0, 1fr));
      gap: 0.6rem;
      margin-top: 0.5rem;
    }

    @media (max-width: 900px) {
      .summary-metrics { grid-template-columns: repeat(2, minmax(0, 1fr)); }
    }

    .metric {
      border-radius: 0.5rem;
      background: #f9fafb;
      border: 1px solid var(--border);
      padding: 0.5rem 0.6rem;
    }

    .metric-label { font-size: 0.75rem; color: var(--text-muted); margin-bottom: 0.15rem; }
    .metric-value { font-size: 1rem; font-weight: 600; }
    .metric-sub { font-size: 0.75rem; color: var(--text-muted); margin-top: 0.25rem; }

    canvas {
      width: 100%;
      max-width: 100%;
      border-radius: 0.5rem;
      border: 1px solid var(--border);
      background: #ffffff;
      margin: 0.75rem 0;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.8rem;
      margin-top: 0.5rem;
    }

    th, td {
      text-align: right;
      padding: 0.35rem 0.4rem;
      border-bottom: 1px solid var(--border);
    }

    th {
      background: #f9fafb;
      font-weight: 600;
      color: var(--text-muted);
    }

    td:first-child, th:first-child { text-align: left; }

    .tag {
      display: inline-flex;
      padding: 0.1rem 0.4rem;
      font-size: 0.7rem;
      border-radius: 999px;
      background: #eff6ff;
      color: var(--accent);
      border: 1px solid #bfdbfe;
    }

    details { margin-top: 0.75rem; }
    details summary { cursor: pointer; font-size: 0.85rem; color: var(--text-muted); }

    .footnote {
      font-size: 0.75rem;
      color: var(--text-muted);
      margin-top: 0.5rem;
      line-height: 1.4;
    }
  </style>
</head>
<body>
  <div class="app-shell">
    <header>
      <div class="pill">Prototype — Sandwich Generation Scenario Mapper</div>
      <h1>Sandwich Generation Financial Squeeze</h1>
      <p>Model what it looks like to support aging parents, launching young adults, and your own retirement all at once.</p>
      <p class="subtle">All numbers are rough estimates in today's money. Adjust the fields to match your reality.</p>
    </header>

    <div class="grid">
      <div class="panel">
        <div class="panel-heading">
          <h2>Your household</h2>
          <span>1. Describe the people and where they live</span>
        </div>

        <div class="section-title">Global settings</div>
        <div class="field-row-4">
          <div>
            <label for="currencySymbol">Currency</label>
            <input id="currencySymbol" type="text" value="$" maxlength="3">
          </div>
          <div>
            <label for="projectionYears">Projection horizon</label>
            <select id="projectionYears">
              <option value="10">10 years</option>
              <option value="15" selected>15 years</option>
              <option value="20">20 years</option>
            </select>
          </div>
          <div>
            <label for="userAge">Your age</label>
            <input id="userAge" type="number" min="18" max="90" value="52">
          </div>
          <div>
            <label for="userLocation">Cost-of-living</label>
            <select id="userLocation">
              <option value="avg" selected>Average</option>
              <option value="low">Lower-cost area</option>
              <option value="high">High-cost metro</option>
            </select>
          </div>
        </div>

        <div class="section-title">Your retirement saving</div>
        <div class="field-row-2">
          <div>
            <label for="retireMonthly">Monthly retirement savings</label>
            <input id="retireMonthly" type="number" min="0" step="50" value="1500">
          </div>
          <div>
            <label for="retireAge">Target retirement age</label>
            <input id="retireAge" type="number" min="55" max="80" value="67">
          </div>
        </div>

        <hr style="border:none;border-top:1px solid var(--border);margin:0.5rem 0 0.4rem;">

        <div class="subpanel-title-row">
          <h3>Parents / elders you support</h3>
          <span class="badge-count" id="parentCountLabel">0 people</span>
        </div>
        <p class="subtle" style="margin-top:-0.3rem;">Include any older relatives where you provide ongoing financial or care support.</p>

        <div class="entity-list" id="parentsContainer"></div>
        <button type="button" class="add-btn" id="addParentBtn"><span>+</span> Add parent / elder</button>

        <hr style="border:none;border-top:1px solid var(--border);margin:0.7rem 0 0.4rem;">

        <div class="subpanel-title-row">
          <h3>Children / young adults you support</h3>
          <span class="badge-count" id="childCountLabel">0 people</span>
        </div>
        <p class="subtle" style="margin-top:-0.3rem;">Anyone under ~30 where you expect to provide material support.</p>

        <div class="entity-list" id="childrenContainer"></div>
        <button type="button" class="add-btn" id="addChildBtn"><span>+</span> Add child / young adult</button>
      </div>

      <div class="panel">
        <div class="panel-heading">
          <h2>Timeline & pressure map</h2>
          <span>2. Run the model, then tweak assumptions</span>
        </div>

        <button class="primary-btn" id="runBtn"><span>▶</span> Project the next 15 years</button>
        <p class="subtle" style="margin-top:0.4rem;">The chart shows estimated <strong>monthly</strong> cash outflow in today's money.</p>

        <div id="resultsArea" style="margin-top:0.8rem; display:none;">
          <div class="section-title">Headline summary</div>
          <div class="summary-metrics" id="summaryMetrics"></div>

          <canvas id="projectionChart" width="900" height="360"></canvas>

          <div class="section-title" style="margin-top:0.6rem;">Year by year breakdown</div>
          <div style="max-height:260px; overflow:auto;">
            <table id="costTable"></table>
          </div>

          <div class="footnote">
            This is a heuristic planning tool, not financial advice. Use it to spot pressure points and timing.
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    const COL_FACTORS = { low: 0.8, avg: 1.0, high: 1.25 };

    const PARENT_BASE_SUPPORT = {
      good: { "60s": 150, "70s": 250, "80s": 350, "90s": 450 },
      medium: { "60s": 300, "70s": 500, "80s": 800, "90s": 1200 },
      poor: { "60s": 600, "70s": 1200, "80s": 2500, "90s": 3500 }
    };

    function parentAgeBand(age) {
      if (age < 60) return null;
      if (age < 70) return "60s";
      if (age < 80) return "70s";
      if (age < 90) return "80s";
      return "90s";
    }

    function estimateParentMonthly(parent, age) {
      const band = parentAgeBand(age);
      if (!band) return 0;
      const healthKey = parent.health || "medium";
      const table = PARENT_BASE_SUPPORT[healthKey];
      const base = table[band] || 0;
      const col = COL_FACTORS[parent.location] || 1.0;
      return Math.round(base * col + (parent.extra || 0));
    }

    function childStageBase(age, living) {
      if (age < 18) return 1500;
      if (age > 30) return 0;
      if (living === "with_you") return age <= 22 ? 2000 : age <= 26 ? 1000 : 500;
      if (living === "college") return age <= 22 ? 2500 : 750;
      if (living === "on_own_partial") return 750;
      return 0;
    }

    function estimateChildMonthly(child, age, userColFactor) {
      if (age > 35) return 0;
      let base = childStageBase(age, child.living);
      const colFactor = (child.living === "with_you") ? userColFactor : (COL_FACTORS[child.location] || 1.0);
      return Math.round(base * colFactor + (child.extra || 0));
    }

    const parentsContainer = document.getElementById("parentsContainer");
    const childrenContainer = document.getElementById("childrenContainer");
    const parentCountLabel = document.getElementById("parentCountLabel");
    const childCountLabel = document.getElementById("childCountLabel");
    const runBtn = document.getElementById("runBtn");
    const resultsArea = document.getElementById("resultsArea");

    let parentIdCounter = 0;
    let childIdCounter = 0;

    function updateCounts() {
      const parents = parentsContainer.querySelectorAll(".entity-card").length;
      const children = childrenContainer.querySelectorAll(".entity-card").length;
      parentCountLabel.textContent = parents + (parents === 1 ? " person" : " people");
      childCountLabel.textContent = children + (children === 1 ? " person" : " people");
    }

    function createParentCard(presetName) {
      const id = ++parentIdCounter;
      const card = document.createElement("div");
      card.className = "entity-card";
      card.dataset.entityId = String(id);

      card.innerHTML = `
        <div class="entity-header">
          <span>Parent / elder <span class="entity-tagline">(#${id})</span></span>
          <button type="button" class="remove-btn" title="Remove">✕</button>
        </div>
        <div class="field-row-2">
          <div>
            <label>Name / label</label>
            <input type="text" class="parent-name" placeholder="e.g., Mom" value="${presetName || ""}">
          </div>
          <div>
            <label>Current age</label>
            <input type="number" class="parent-age" min="50" max="100" value="75">
          </div>
        </div>
        <div class="field-row-2">
          <div>
            <label>Health status</label>
            <select class="parent-health">
              <option value="good">Healthy / independent</option>
              <option value="medium" selected>Some limitations</option>
              <option value="poor">High-care / frail</option>
            </select>
          </div>
          <div>
            <label>Location cost</label>
            <select class="parent-location">
              <option value="low">Lower-cost area</option>
              <option value="avg" selected>Average</option>
              <option value="high">High-cost metro</option>
            </select>
          </div>
        </div>
        <div class="field-row-2">
          <div>
            <label>Extra monthly support</label>
            <input type="number" class="parent-extra" min="-5000" step="50" value="0">
            <div class="hint">On top of typical pattern</div>
          </div>
        </div>
      `;

      card.querySelector(".remove-btn").addEventListener("click", () => {
        card.remove();
        updateCounts();
      });

      parentsContainer.appendChild(card);
      updateCounts();
    }

    function createChildCard(presetLabel) {
      const id = ++childIdCounter;
      const card = document.createElement("div");
      card.className = "entity-card";
      card.dataset.entityId = String(id);

      card.innerHTML = `
        <div class="entity-header">
          <span>Child / young adult <span class="entity-tagline">(#${id})</span></span>
          <button type="button" class="remove-btn" title="Remove">✕</button>
        </div>
        <div class="field-row-2">
          <div>
            <label>Name / label</label>
            <input type="text" class="child-name" placeholder="e.g., Oldest" value="${presetLabel || ""}">
          </div>
          <div>
            <label>Current age</label>
            <input type="number" class="child-age" min="0" max="40" value="20">
          </div>
        </div>
        <div class="field-row-2">
          <div>
            <label>Living situation</label>
            <select class="child-living">
              <option value="with_you">Living with you</option>
              <option value="college">In college</option>
              <option value="on_own_partial" selected>On their own, partial support</option>
              <option value="independent">Fully independent</option>
            </select>
          </div>
          <div>
            <label>Location cost</label>
            <select class="child-location">
              <option value="low">Lower-cost area</option>
              <option value="avg" selected>Average</option>
              <option value="high">High-cost metro</option>
            </select>
          </div>
        </div>
        <div class="field-row-2">
          <div>
            <label>Extra monthly support</label>
            <input type="number" class="child-extra" min="-5000" step="50" value="0">
          </div>
        </div>
      `;

      card.querySelector(".remove-btn").addEventListener("click", () => {
        card.remove();
        updateCounts();
      });

      childrenContainer.appendChild(card);
      updateCounts();
    }

    document.getElementById("addParentBtn").addEventListener("click", () => createParentCard(""));
    document.getElementById("addChildBtn").addEventListener("click", () => createChildCard(""));

    // Seed data
    createParentCard("Mom");
    createParentCard("Dad");
    createChildCard("Oldest");
    createChildCard("Youngest");

    function formatCurrency(value, symbol) {
      return symbol + Math.round(value).toLocaleString();
    }

    function runProjection() {
      const currencySymbol = (document.getElementById("currencySymbol").value || "$").trim() || "$";
      const projectionYears = parseInt(document.getElementById("projectionYears").value, 10) || 15;
      const userAge = parseFloat(document.getElementById("userAge").value) || 52;
      const retireMonthly = parseFloat(document.getElementById("retireMonthly").value) || 0;
      const userLocationKey = document.getElementById("userLocation").value || "avg";
      const userColFactor = COL_FACTORS[userLocationKey] || 1.0;

      const parents = [];
      parentsContainer.querySelectorAll(".entity-card").forEach(card => {
        const age = parseFloat(card.querySelector(".parent-age").value);
        if (!age || age <= 0) return;
        parents.push({
          name: (card.querySelector(".parent-name").value || "Parent").trim(),
          age: age,
          health: card.querySelector(".parent-health").value,
          location: card.querySelector(".parent-location").value,
          extra: parseFloat(card.querySelector(".parent-extra").value) || 0
        });
      });

      const children = [];
      childrenContainer.querySelectorAll(".entity-card").forEach(card => {
        const age = parseFloat(card.querySelector(".child-age").value);
        if (isNaN(age)) return;
        children.push({
          name: (card.querySelector(".child-name").value || "Child").trim(),
          age: age,
          living: card.querySelector(".child-living").value,
          location: card.querySelector(".child-location").value,
          extra: parseFloat(card.querySelector(".child-extra").value) || 0
        });
      });

      const nowYear = new Date().getFullYear();
      const labels = [];
      const parentSeries = [];
      const childSeries = [];
      const retireSeries = [];
      const totalSeries = [];

      for (let t = 0; t < projectionYears; t++) {
        labels.push(String(nowYear + t));
        let parentsCost = 0;
        let kidsCost = 0;

        parents.forEach(p => {
          parentsCost += estimateParentMonthly(p, p.age + t);
        });

        children.forEach(c => {
          kidsCost += estimateChildMonthly(c, c.age + t, userColFactor);
        });

        const retire = retireMonthly * Math.pow(1.03, t);
        parentSeries.push(parentsCost);
        childSeries.push(kidsCost);
        retireSeries.push(Math.round(retire));
        totalSeries.push(parentsCost + kidsCost + Math.round(retire));
      }

      resultsArea.style.display = "block";
      renderSummary(labels, parentSeries, childSeries, retireSeries, totalSeries, currencySymbol, userAge);
      drawChart(labels, parentSeries, childSeries, retireSeries, totalSeries, currencySymbol);
      renderCostTable(labels, parentSeries, childSeries, retireSeries, totalSeries, currencySymbol);
    }

    function renderSummary(labels, parents, kids, retire, total, symbol, userAge) {
      const summaryMetrics = document.getElementById("summaryMetrics");
      summaryMetrics.innerHTML = "";

      let peakIndex = 0;
      for (let i = 1; i < total.length; i++) {
        if (total[i] > total[peakIndex]) peakIndex = i;
      }

      const peakYear = labels[peakIndex];
      const peakTotal = total[peakIndex];
      const peakAge = userAge + peakIndex;
      const totalHorizon = total.reduce((a, b) => a + b * 12, 0);

      summaryMetrics.innerHTML = `
        <div class="metric">
          <div class="metric-label">Peak monthly squeeze</div>
          <div class="metric-value">${formatCurrency(peakTotal, symbol)}</div>
          <div class="metric-sub">Year ${peakYear} (age ${peakAge})</div>
        </div>
        <div class="metric">
          <div class="metric-label">At peak: parents vs kids</div>
          <div class="metric-value">${formatCurrency(parents[peakIndex], symbol)} / ${formatCurrency(kids[peakIndex], symbol)}</div>
          <div class="metric-sub">Parents / Kids</div>
        </div>
        <div class="metric">
          <div class="metric-label">Total projected outflow</div>
          <div class="metric-value">${formatCurrency(totalHorizon, symbol)}</div>
          <div class="metric-sub">Over full horizon</div>
        </div>
        <div class="metric">
          <div class="metric-label">Retirement saving load</div>
          <div class="metric-value">${formatCurrency(retire[0] || 0, symbol)}/mo</div>
          <div class="metric-sub">Starting target</div>
        </div>
      `;
    }

    function drawChart(labels, parents, kids, retire, total, symbol) {
      const canvas = document.getElementById("projectionChart");
      const ctx = canvas.getContext("2d");
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      const paddingLeft = 55;
      const paddingRight = 12;
      const paddingTop = 18;
      const paddingBottom = 40;

      const usableWidth = canvas.width - paddingLeft - paddingRight;
      const usableHeight = canvas.height - paddingTop - paddingBottom;

      const maxVal = Math.max(...total, 1);

      function xPos(i) {
        if (labels.length === 1) return paddingLeft + usableWidth / 2;
        return paddingLeft + (i / (labels.length - 1)) * usableWidth;
      }

      function yPos(value) {
        return paddingTop + (1 - value / maxVal) * usableHeight;
      }

      // Grid
      ctx.strokeStyle = "#d1d5db";
      ctx.lineWidth = 1;
      ctx.beginPath();
      ctx.moveTo(paddingLeft, paddingTop);
      ctx.lineTo(paddingLeft, canvas.height - paddingBottom);
      ctx.lineTo(canvas.width - paddingRight, canvas.height - paddingBottom);
      ctx.stroke();

      // Y ticks
      ctx.fillStyle = "#6b7280";
      ctx.font = "10px system-ui";
      for (let i = 0; i <= 4; i++) {
        const y = yPos((i / 4) * maxVal);
        ctx.beginPath();
        ctx.moveTo(paddingLeft, y);
        ctx.lineTo(canvas.width - paddingRight, y);
        ctx.strokeStyle = "#e5e7eb";
        ctx.stroke();
        ctx.fillText(formatCurrency((i / 4) * maxVal, symbol), 4, y + 3);
      }

      // X labels
      ctx.textAlign = "center";
      const step = Math.max(1, Math.floor(labels.length / 10));
      for (let i = 0; i < labels.length; i += step) {
        ctx.fillStyle = "#6b7280";
        ctx.fillText(labels[i], xPos(i), canvas.height - paddingBottom + 14);
      }

      function drawLine(series, color, width) {
        ctx.strokeStyle = color;
        ctx.lineWidth = width;
        ctx.beginPath();
        series.forEach((val, i) => {
          const x = xPos(i);
          const y = yPos(val);
          if (i === 0) ctx.moveTo(x, y);
          else ctx.lineTo(x, y);
        });
        ctx.stroke();
      }

      drawLine(parents, "#1f77b4", 2);
      drawLine(kids, "#2ca02c", 2);
      drawLine(retire, "#fb923c", 2);
      drawLine(total, "#111827", 3);

      // Legend
      const legendItems = [
        { label: "Parents", color: "#1f77b4" },
        { label: "Children", color: "#2ca02c" },
        { label: "Retirement", color: "#fb923c" },
        { label: "Total", color: "#111827" }
      ];
      ctx.font = "10px system-ui";
      let offsetX = 0;
      legendItems.forEach(item => {
        ctx.fillStyle = item.color;
        ctx.fillRect(paddingLeft + 6 + offsetX, paddingTop + 4, 10, 10);
        ctx.fillStyle = "#374151";
        ctx.fillText(item.label, paddingLeft + 20 + offsetX, paddingTop + 13);
        offsetX += 80;
      });
    }

    function renderCostTable(labels, parents, kids, retire, total, symbol) {
      const costTable = document.getElementById("costTable");
      costTable.innerHTML = `
        <thead>
          <tr>
            <th>Year</th>
            <th>Parents</th>
            <th>Children</th>
            <th>Retirement</th>
            <th><span class="tag">Total</span></th>
          </tr>
        </thead>
        <tbody>
          ${labels.map((year, idx) => `
            <tr>
              <td>${year}</td>
              <td>${formatCurrency(parents[idx], symbol)}</td>
              <td>${formatCurrency(kids[idx], symbol)}</td>
              <td>${formatCurrency(retire[idx], symbol)}</td>
              <td>${formatCurrency(total[idx], symbol)}</td>
            </tr>
          `).join("")}
        </tbody>
      `;
    }

    runBtn.addEventListener("click", runProjection);
  </script>
</body>
</html>
